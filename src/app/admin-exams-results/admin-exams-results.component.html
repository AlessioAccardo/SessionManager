<div class = "container">
<ion-card>
    <ion-title> Dashboard Segreteria </ion-title>
    <ion-grid>
      <ion-row class = "header">
        <ion-col> Codice Esame </ion-col>
        <ion-col> Nome Corso </ion-col>
        <ion-col> Data </ion-col>
        <ion-col> Studenti iscritti </ion-col>
      </ion-row>
      @for (exam of exams; track exam.code) {
        <ion-grid>
          <ion-row>
            <ion-col> {{ exam.code }} </ion-col>
            <ion-col> {{ exam.name }} </ion-col>
            <ion-col> {{ exam.date }} </ion-col>
            <ion-col> {{ exam.enrolled_students }} </ion-col>
            <ion-button class="buttons" (click)="showExams(exam.code)">{{ selectedExamCode
              === exam.code ? 'Nascondi Corsi' : 'Mostra Corsi'}}</ion-button>
          </ion-row>
        </ion-grid>
        @if (selectedExamCode === exam.code) {
        <ion-card>
          <ion-grid>
            <ion-row class = "header">
              <ion-col> Matricola </ion-col>
              <ion-col> Nome Studente </ion-col>
              <ion-col> Voto </ion-col>
            </ion-row>
            @for (student of studentsOfAnExam; track student.student_id) {
            <ion-row>
              <ion-col> {{ student.student_id }} </ion-col>
              <ion-col> {{ student.student_first_name }} {{ student.student_last_name}} </ion-col>
              <ion-col> {{ student.grade }} </ion-col>
            </ion-row>
            }
          </ion-grid>
        </ion-card>
        }
      }
    </ion-grid>
</ion-card>
</div>